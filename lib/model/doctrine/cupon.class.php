<?php

/**
 * cupon
 *
 * This class has been auto-generated by the Doctrine ORM Framework
 *
 * @package    deluxebuys
 * @subpackage model
 * @author     Your name here
 * @version    SVN: $Id: Builder.php 7490 2010-03-29 19:53:27Z jwage $
 */
class cupon extends Basecupon
{

	public function preDelete($event)
	{		
		$cuponProductos = cuponProductoTable::getInstance()->listByIdCupon( $this->getIdCupon() );
		foreach ($cuponProductos as $cuponProducto) $cuponProducto->delete();
	}
	
	protected  function parseFechaToXml($fecha)
	{		
		$fecha = (string) date("c", strtotime($fecha));
		return substr($fecha, 0, strlen($fecha)-6);
	}
	
	public  function getFechaDesdeToXml()
	{		
		return $this->parseFechaToXml( $this->getFechaDesde() );
	}
	
	public  function getFechaHastaToXml()
	{		
		return $this->parseFechaToXml( $this->getFechaHasta() );
	}
	


}
